<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="420" viewBox="0 0 900 420">
  <style>
    .box { fill:#f4f7fb; stroke:#2b6cb0; stroke-width:2; rx:8; }
    .title { font: bold 16px sans-serif; fill:#153e75; }
    .label { font: 14px sans-serif; fill:#153e75; }
    .small { font: 12px sans-serif; fill:#0b2947; }
    .arrow { stroke:#2b6cb0; stroke-width:2; fill:none; marker-end:url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2b6cb0" />
    </marker>
  </defs>

  <!-- Browser -->
  <rect x="30" y="40" width="240" height="120" class="box" />
  <text x="150" y="70" text-anchor="middle" class="title">Navegador</text>
  <text x="150" y="95" text-anchor="middle" class="small">dashboard + JS (STOMP)</text>

  <!-- Backend -->
  <rect x="330" y="20" width="360" height="170" class="box" />
  <text x="510" y="50" text-anchor="middle" class="title">Backend Spring Boot</text>
  <text x="510" y="78" text-anchor="middle" class="label">Controllers • Services • WebSocket</text>
  <text x="510" y="100" text-anchor="middle" class="small">Actuator • Metrics</text>

  <!-- Simulation / sensors -->
  <rect x="360" y="220" width="300" height="120" class="box" />
  <text x="510" y="250" text-anchor="middle" class="title">SensorSimulationService</text>
  <text x="510" y="275" text-anchor="middle" class="small">Motion • Temperature • Access</text>

  <!-- Arrows -->
  <path class="arrow" d="M270 100 L330 100" />
  <path class="arrow" d="M690 100 L750 100" />
  <path class="arrow" d="M510 180 L510 220" />

  <!-- Labels for connection -->
  <text x="300" y="85" class="small">WebSocket / STOMP</text>

  <!-- Connection from Browser to Backend both ways -->
  <path class="arrow" d="M270 120 Q420 160 330 160" stroke-dasharray="6 4" />
  <path class="arrow" d="M330 60 Q420 20 270 20" stroke-dasharray="6 4" />

  <!-- Footer -->
  <text x="20" y="400" class="small">Diagrama simplificado - generado automáticamente</text>
</svg>

